<div class="split-container">
  <!-- Lado Esquerdo: Marca/Logo -->
  <div class="brand-section">
    <div class="brand-content">
      <img src="wmremove-transformed (1).png" alt="Indica.AI Logo" class="brand-logo">
      <h1>Indica.AI</h1>
    </div>
  </div>

  <!-- Lado Direito: Formul√°rio -->
  <div class="form-section">
    <div class="form-wrapper">
      <div class="form-header">
        <h2>Criar Conta</h2>
        <p class="subtitle">Cadastre seus dados e biometria.</p>
      </div>

      <div class="toggle-container">
        <span [class.active]="tipoCadastro === 'funcionario'">Pessoa F√≠sica</span>
        <label class="switch">
          <input type="checkbox" (change)="alternarTipo($event)">
          <span class="slider round"></span>
        </label>
        <span [class.active]="tipoCadastro === 'empresa'">Empresa</span>
      </div>

      <form [formGroup]="cadastroForm" (ngSubmit)="onSubmit()">

        <!-- CAMPOS DE FUNCION√ÅRIO -->
        <div *ngIf="tipoCadastro === 'funcionario'">
          <div class="input-group">
            <label>Nome Completo</label>
            <input type="text" formControlName="nomeCompleto" placeholder="Seu nome completo">
          </div>

          <div class="input-group">
            <label>CPF</label>
            <input type="text" formControlName="cpf" placeholder="000.000.000-00" (input)="formatarCPF($event)"
              maxlength="14">
          </div>
        </div>

        <!-- CAMPOS DE EMPRESA -->
        <div *ngIf="tipoCadastro === 'empresa'">
          <div class="input-group">
            <label>Raz√£o Social</label>
            <input type="text" formControlName="razaoSocial" placeholder="Raz√£o Social da Empresa">
          </div>

          <div class="input-group">
            <label>Nome Fantasia</label>
            <input type="text" formControlName="nomeFantasia" placeholder="Nome Fantasia">
          </div>

          <div class="input-group">
            <label>CNPJ</label>
            <input type="text" formControlName="cnpj" placeholder="00.000.000/0000-00" (input)="formatarCNPJ($event)"
              maxlength="18">
          </div>
        </div>

        <!-- CAMPOS COMUNS -->
        <div class="input-group">
          <label>Email</label>
          <input type="email" formControlName="email" placeholder="email@exemplo.com">
        </div>

        <div class="input-group">
          <label>Senha</label>
          <input type="password" formControlName="senha" placeholder="********">
        </div>

        <hr class="divider" *ngIf="tipoCadastro === 'funcionario'">

        <!-- FOTOS (APENAS FUNCION√ÅRIO) -->
        <div *ngIf="tipoCadastro === 'funcionario'">
          <!-- Foto do Rosto -->
          <div class="media-group">
            <label class="section-label">Foto do Rosto</label>

            <div class="upload-card">
              <div class="preview-area" *ngIf="fotoRostoPreview">
                <img [src]="fotoRostoPreview">
                <button type="button" class="btn-remove" (click)="fotoRostoPreview = null">√ó</button>
              </div>

              <div class="actions" *ngIf="cameraAtiva !== 'rosto' && !fotoRostoPreview">
                <div class="action-btn upload" (click)="fileRosto.click()">
                  <span class="icon">üìÅ</span>
                  <span>Carregar Foto</span>
                </div>
                <div class="action-btn camera" (click)="iniciarCamera('rosto')">
                  <span class="icon">üì∑</span>
                  <span>Usar C√¢mera</span>
                </div>
              </div>

              <div class="camera-container" *ngIf="cameraAtiva === 'rosto'">
                <video #videoElement autoplay playsinline></video>
                <button type="button" class="btn-capture" (click)="tirarFoto()"></button>
                <button type="button" class="btn-close-camera" (click)="pararCamera()">Cancelar</button>
              </div>

              <input #fileRosto type="file" hidden (change)="onFileSelected($event, 'rosto')">
            </div>
          </div>

          <!-- Foto do Documento -->
          <div class="media-group">
            <label class="section-label">Foto do Documento</label>

            <div class="upload-card">
              <div class="preview-area" *ngIf="fotoDocPreview">
                <img [src]="fotoDocPreview">
                <button type="button" class="btn-remove" (click)="fotoDocPreview = null">√ó</button>
              </div>

              <div class="actions" *ngIf="cameraAtiva !== 'doc' && !fotoDocPreview">
                <div class="action-btn upload" (click)="fileDoc.click()">
                  <span class="icon">üìÑ</span>
                  <span>Carregar Foto</span>
                </div>
                <div class="action-btn camera" (click)="iniciarCamera('doc')">
                  <span class="icon">üì∑</span>
                  <span>Usar C√¢mera</span>
                </div>
              </div>

              <div class="camera-container" *ngIf="cameraAtiva === 'doc'">
                <video #videoElement autoplay playsinline></video>
                <button type="button" class="btn-capture" (click)="tirarFoto()"></button>
                <button type="button" class="btn-close-camera" (click)="pararCamera()">Cancelar</button>
              </div>

              <input #fileDoc type="file" hidden (change)="onFileSelected($event, 'doc')">
            </div>
          </div>
        </div>

        <button type="submit" class="btn-submit">
          {{ tipoCadastro === 'funcionario' ? 'FINALIZAR CADASTRO' : 'CADASTRAR EMPRESA' }}
        </button>
      </form>
    </div>
  </div>
</div>

<!-- Popup de Sucesso -->
<div class="popup-overlay" *ngIf="mostrarPopupSucesso">
  <div class="popup-content">
    <div class="popup-icon">
      ‚úÖ
    </div>
    <h3>Cadastro Realizado!</h3>
    <p>Seus dados foram enviados com sucesso.</p>
    <p class="info-text">Sua imagem est√° em an√°lise. Voc√™ receber√° um email assim que for aprovado.</p>
    <button (click)="fecharPopup()" class="btn-popup">Entendi</button>
  </div>
</div>